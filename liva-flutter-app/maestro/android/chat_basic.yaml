# Android Basic Chat Test
# Tests sending a simple message to the avatar

appId: com.liva.livaApp
---
- launchApp
- extendedWaitUntil:
    visible: ".*"
    timeout: 10000
- takeScreenshot: screenshots/android_02_ready.png

# Wait for UI to be ready (animation canvas loaded)
- runFlow:
    when:
      visible:
        id: ".*canvas.*"
        optional: true
    commands:
      - assertVisible:
          id: ".*canvas.*"

# Find and tap chat input
- tapOn:
    text: ".*"
    index: 0
- inputText: "Hello world"
- takeScreenshot: screenshots/android_03_message_typed.png

# Send message
- tapOn:
    text: "Send|SEND"
    optional: true
- takeScreenshot: screenshots/android_04_message_sent.png

# Wait for response (animation should play)
- waitForAnimationToEnd:
    timeout: 15000
- takeScreenshot: screenshots/android_05_animation_complete.png
