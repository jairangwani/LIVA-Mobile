# Android Animation Stress Test
# Tests multiple rapid messages to check for memory leaks, crashes, audio overlap

appId: com.liva.livaApp
---
- launchApp
- extendedWaitUntil:
    visible: ".*"
    timeout: 10000

# Send message 1
- tapOn:
    text: ".*"
    index: 0
- inputText: "Test one"
- tapOn:
    text: "Send|SEND"
    optional: true
- takeScreenshot: screenshots/android_stress_01.png
- waitForAnimationToEnd:
    timeout: 10000

# Send message 2 (interrupt previous if still playing)
- tapOn:
    text: ".*"
    index: 0
- inputText: "Test two"
- tapOn:
    text: "Send|SEND"
    optional: true
- takeScreenshot: screenshots/android_stress_02.png
- waitForAnimationToEnd:
    timeout: 10000

# Send message 3
- tapOn:
    text: ".*"
    index: 0
- inputText: "Test three"
- tapOn:
    text: "Send|SEND"
    optional: true
- takeScreenshot: screenshots/android_stress_03.png
- waitForAnimationToEnd:
    timeout: 10000

# Final screenshot
- takeScreenshot: screenshots/android_stress_complete.png
